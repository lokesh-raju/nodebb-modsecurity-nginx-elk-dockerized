{"version":3,"sources":["public/src/client/account/consent.js"],"names":["define","header","Consent","init","$","on","socket","emit","err","app","alertError","message","ajaxify","refresh","handleExport","el","method","success","uid","data","alertSuccess"],"mappings":"AAAA,aAGAA,OAAO,yBAA0B,wBAAyB,SAAUC,GACnE,IAAIC,KAEJA,EAAQC,KAAO,WACdF,EAAOE,OAEPC,EAAE,2BAA2BC,GAAG,QAAS,WACxCC,OAAOC,KAAK,uBAAyB,SAAUC,GAC9C,GAAIA,EAAK,CACR,OAAOC,IAAIC,WAAWF,EAAIG,SAG3BC,QAAQC,cAIVC,EAAaV,EAAE,kCAAmC,qBAAsB,2CACxEU,EAAaV,EAAE,gCAAiC,mBAAoB,yCACpEU,EAAaV,EAAE,kCAAmC,qBAAsB,2CAExE,SAASU,EAAaC,EAAIC,EAAQC,GACjCF,EAAGV,GAAG,QAAS,WACdC,OAAOC,KAAKS,GAAUE,IAAKN,QAAQO,KAAKD,KAAO,SAAUV,GACxD,GAAIA,EAAK,CACR,OAAOC,IAAIC,WAAWF,EAAIG,SAE3BF,IAAIW,aAAaH,SAMrB,OAAOf","file":"public/src/client/account/consent.js","sourcesContent":["'use strict';\n\n\ndefine('forum/account/consent', ['forum/account/header'], function (header) {\n\tvar Consent = {};\n\n\tConsent.init = function () {\n\t\theader.init();\n\n\t\t$('[data-action=\"consent\"]').on('click', function () {\n\t\t\tsocket.emit('user.gdpr.consent', {}, function (err) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn app.alertError(err.message);\n\t\t\t\t}\n\n\t\t\t\tajaxify.refresh();\n\t\t\t});\n\t\t});\n\n\t\thandleExport($('[data-action=\"export-profile\"]'), 'user.exportProfile', '[[user:consent.export-profile-success]]');\n\t\thandleExport($('[data-action=\"export-posts\"]'), 'user.exportPosts', '[[user:consent.export-posts-success]]');\n\t\thandleExport($('[data-action=\"export-uploads\"]'), 'user.exportUploads', '[[user:consent.export-uploads-success]]');\n\n\t\tfunction handleExport(el, method, success) {\n\t\t\tel.on('click', function () {\n\t\t\t\tsocket.emit(method, { uid: ajaxify.data.uid }, function (err) {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\treturn app.alertError(err.message);\n\t\t\t\t\t}\n\t\t\t\t\tapp.alertSuccess(success);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n\treturn Consent;\n});\n"]}