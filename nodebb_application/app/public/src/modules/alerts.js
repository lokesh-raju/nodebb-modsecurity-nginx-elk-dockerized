"use strict";define("alerts",["translator","components","benchpress"],function(t,e,n){var i={};i.alert=function(t){t.alert_id="alert_button_"+(t.alert_id?t.alert_id:(new Date).getTime());t.title=t.title?t.title.trim()||"":"";t.message=t.message?t.message.trim():"";t.type=t.type||"info";var e=$("#"+t.alert_id);if(e.length){r(e,t)}else{a(t)}};function a(i){n.parse("alert",i,function(n){t.translate(n,function(t){var n=$("#"+i.alert_id);if(n.length){return r(n,i)}n=$(t);n.fadeIn(200);e.get("toaster/tray").prepend(n);if(typeof i.closefn==="function"){n.find("button").on("click",function(){i.closefn();o(n);return false})}if(i.timeout){s(n,i.timeout)}if(typeof i.clickfn==="function"){n.addClass("pointer").on("click",function(t){if(!$(t.target).is(".close")){i.clickfn()}o(n)})}$(window).trigger("action:alert.new",{alert:n,params:i})})})}i.remove=function(t){$("#alert_button_"+t).remove()};function r(e,n){e.find("strong").html(n.title);e.find("p").html(n.message);e.attr("class","alert alert-dismissable alert-"+n.type+" clearfix");clearTimeout(parseInt(e.attr("timeoutId"),10));if(n.timeout){s(e,n.timeout)}e.children().fadeOut(100);t.translate(e.html(),function(t){e.children().fadeIn(100);e.html(t);$(window).trigger("action:alert.update",{alert:e,params:n})});e.off("click").removeClass("pointer");if(typeof n.clickfn==="function"){e.addClass("pointer").on("click",function(t){if(!$(t.target).is(".close")){n.clickfn()}o(e)})}}function o(t){t.fadeOut(500,function(){$(this).remove()})}function s(t,e){var n=setTimeout(function(){o(t)},e);t.attr("timeoutId",n);t.css("transition-property","none");t.removeClass("animate");setTimeout(function(){t.css("transition-property","");t.css("transition","width "+(e+450)+"ms linear, background-color "+(e+450)+"ms ease-in");t.addClass("animate")},50);t.on("mouseenter",function(){$(this).css("transition-duration",0)})}return i});
//# sourceMappingURL=alerts.js.map