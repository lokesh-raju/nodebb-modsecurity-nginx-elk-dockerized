"use strict";define("categorySearch",function(){var n={};n.init=function(n){if(utils.isTouchDevice()){return}var t=n.find('[component="category-selector-search"]');if(!t.length){return}var o=t.parent('[component="category/dropdown"]').length>0||t.parent('[component="category-selector"]').length>0;var e=n.find('[component="category/list"] [data-cid]');n.on("show.bs.dropdown",function(){function a(t){var o=n.find('[component="category/list"] [data-cid="'+t+'"]').attr("data-parent-cid");if(o){n.find('[component="category/list"] [data-cid="'+o+'"]').removeClass("hidden");a(o)}}function i(t){var o=n.find('[component="category/list"] [data-parent-cid="'+t+'"]');o.each(function(n,t){var o=$(t);o.removeClass("hidden");i(o.attr("data-cid"))})}function d(){var o=t.find("input").val().toLowerCase();var d=true;var r=[];e.each(function(){var n=$(this);var t=n.attr("data-name").toLowerCase().indexOf(o)!==-1;if(d&&t){d=false}if(t&&o){r.push(n.attr("data-cid"))}n.toggleClass("hidden",!t).find('[component="category-markup"]').css({"font-weight":o&&t?"bold":"normal"})});r.forEach(function(n){a(n);i(n)});n.find('[component="category/list"] [component="category/no-matches"]').toggleClass("hidden",!d)}if(o){n.find(".dropdown-toggle").addClass("hidden");t.removeClass("hidden")}t.on("click",function(n){n.preventDefault();n.stopPropagation()});t.find("input").val("").on("keyup",d);d()});n.on("shown.bs.dropdown",function(){t.find("input").focus()});n.on("hide.bs.dropdown",function(){if(o){n.find(".dropdown-toggle").removeClass("hidden");t.addClass("hidden")}t.off("click");t.find("input").off("keyup")})};return n});
//# sourceMappingURL=categorySearch.js.map