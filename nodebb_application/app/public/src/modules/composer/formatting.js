"use strict";define("composer/formatting",["composer/controls","composer/preview","composer/resize"],function(e,t,o){var n={};var i={picture:function(){var e=this;e.find("#files").click()},upload:function(){var e=this;e.find("#files").click()},tags:function(){var e=this;e.find(".tags-container").toggleClass("hidden")},zen:function(){var e=this;$(window).one("resize",function(){function t(){if(!screenfull.isFullscreen){app.toggleNavbar(true);$("html").removeClass("zen-mode");o.reposition(e);$(window).off("resize",t)}}if(screenfull.isFullscreen){app.toggleNavbar(false);$("html").addClass("zen-mode");e.find(".write").focus();$(window).on("resize",t);$(window).one("action:composer.topics.post action:composer.posts.reply action:composer.posts.edit action:composer.discard",screenfull.exit)}});screenfull.toggle()}};var r=[];n.addComposerButtons=function(){for(var e=0,t=r.length;e<t;e++){$(".formatting-bar .formatting-group #fileForm").before('<li tabindex="-1" data-format="'+r[e].name+'" title="'+(r[e].title||"")+'"><i class="'+r[e].iconClass+'"></i></li>')}};n.addButton=function(e,t,o,n){var n=n||e.replace("fa fa-","");i[n]=t;r.push({name:n,iconClass:e,title:o})};n.getDispatchTable=function(){return i};n.addButtonDispatch=function(e,t){i[e]=t};n.addHandler=function(e){e.on("click",".formatting-bar li",function(o){var n=$(this).attr("data-format"),r=$(this).parents('[component="composer"]').find("textarea")[0];if(i.hasOwnProperty(n)){i[n].call(e,r,r.selectionStart,r.selectionEnd,o);t.render(e)}})};return n});
//# sourceMappingURL=formatting.js.map