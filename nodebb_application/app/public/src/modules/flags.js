"use strict";define("flags",function(){var a={};var o;var t;var e;a.showFlagModal=function(a){app.parseAndTranslate("partials/modals/flag_modal",a,function(l){o=$(l);o.on("hidden.bs.modal",function(){o.remove()});t=o.find("#flag-post-commit");e=o.find("#flag-reason-custom");o.on("click",".flag-reason",function(){var o=$(this).text();if(e.val().length===0){return n(a.type,a.id,o)}bootbox.confirm({title:"[[flags:modal-submit-confirm]]",message:'<p>[[flags:modal-submit-confirm-text]]</p><p class="help-block">[[flags:modal-submit-confirm-text-help]]</p>',callback:function(t){if(t){n(a.type,a.id,o)}}})});t.on("click",function(){n(a.type,a.id,o.find("#flag-reason-custom").val())});o.on("click",".toggle-custom",function(){e.prop("disabled",false);e.focus()});o.modal("show");$(window).trigger("action:flag.showModal",{modalEl:o,type:a.type,id:a.id});o.find("#flag-reason-custom").on("keyup blur change",i)})};function n(a,t,e){if(!a||!t||!e){return}socket.emit("flags.create",{type:a,id:t,reason:e},function(a){if(a){return app.alertError(a.message)}o.modal("hide");app.alertSuccess("[[flags:modal-submit-success]]")})}function i(){if(o.find("#flag-reason-custom").val()){t.removeAttr("disabled")}else{t.attr("disabled",true)}}return a});
//# sourceMappingURL=flags.js.map