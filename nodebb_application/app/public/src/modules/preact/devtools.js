(function(e,n){typeof exports==="object"&&typeof module!=="undefined"?n(require("preact")):typeof define==="function"&&define.amd?define(["preact"],n):n(e.preact)})(this,function(e){"use strict";var n="__preactattr_";function t(e){return{type:e.constructor,key:e.key,ref:null,props:e.props}}function o(e){var t=e.nodeType===Node.ELEMENT_NODE?Array.from(e.childNodes):[];var o=e.nodeType===Node.TEXT_NODE;return{_currentElement:o?e.textContent:{type:e.nodeName.toLowerCase(),props:e[n]},_renderedChildren:t.map(function(e){if(e._component){return p(e._component)}return p(e)}),_stringText:o?e.textContent:null,_inDevTools:false,node:e}}function r(e){if(typeof e.type==="function"){return e.type.displayName||e.type.name}return e.type}function u(e){var n=t(e);var o=e.base;var u={getPublicInstance:function e(){return true},getName:function e(){return r(n)},_currentElement:t(e),props:e.props,state:e.state,forceUpdate:e.forceUpdate&&e.forceUpdate.bind(e),setState:e.setState&&e.setState.bind(e),node:o};u._instance=e;if(e._component){u._renderedComponent=p(e._component)}else{u._renderedComponent=p(o)}return u}var i=typeof Map==="function"&&new Map;function p(e){var n=e instanceof Node?o(e):u(e);if(i.has(e)){var t=i.get(e);Object.assign(t,n);return t}i.set(e,n);return n}function f(e){return"."+Object.keys(e).length}function c(e,n){Array.from(e.childNodes).forEach(function(e){if(e._component){n[f(n)]=p(e._component)}else{c(e,n)}})}function a(){var e={getNodeFromInstance:function e(n){return n.node},getClosestInstanceFromNode:function e(n){while(n&&!n._component){n=n.parentNode}return n?p(n._component):null}};var n={};c(document.body,n);var t={_instancesByReactRootID:n,_renderNewRootComponent:function e(){}};var o={mountComponent:function e(){},performUpdateIfNecessary:function e(){},receiveComponent:function e(){},unmountComponent:function e(){}};var r=function e(r){var u=p(r);if(d(r)){u._rootID=f(n);n[u._rootID]=u;t._renderNewRootComponent(u)}m(u,function(e){e._inDevTools=true;o.mountComponent(e)});o.mountComponent(u)};var u=function e(n){var t=[];var r=i.get(n);if(r){m(r,function(e){t.push(e)})}r=p(n);o.receiveComponent(r);m(r,function(e){var n={_topLevelWrapper:r};if(!e._inDevTools){e._inDevTools=true;o.mountComponent(e,null,null,n)}else{o.receiveComponent(e,null,null,n)}});t.forEach(function(e){if(!document.body.contains(e.node)){i.delete(e.node);o.unmountComponent(e)}})};var a=function e(t){var r=p(t);m(function(e){i.delete(e.node);o.unmountComponent(e)});o.unmountComponent(r);i.delete(t);if(r._rootID){delete n[r._rootID]}};return{componentAdded:r,componentUpdated:u,componentRemoved:a,ComponentTree:e,Mount:t,Reconciler:o}}function d(e){if(e._parentComponent||e.__u){return false}if(e.base.parentElement&&e.base.parentElement[n]){return false}return true}function m(e,n){if(!e)return;if(e._renderedComponent){if(!e._renderedComponent._component){n(e._renderedComponent);m(e._renderedComponent,n)}}else if(e._renderedChildren){e._renderedChildren.forEach(function(e){n(e);if(!e._component)m(e,n)})}}function s(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"){return}var n=a();var t=e.options.afterMount;e.options.afterMount=function(e){n.componentAdded(e);if(t)t(e)};var o=e.options.afterUpdate;e.options.afterUpdate=function(e){n.componentUpdated(e);if(o)o(e)};var r=e.options.beforeUnmount;e.options.beforeUnmount=function(e){n.componentRemoved(e);if(r)r(e)};__REACT_DEVTOOLS_GLOBAL_HOOK__.inject(n);return function(){e.options.afterMount=t;e.options.afterUpdate=o;e.options.beforeUnmount=r}}s()});
//# sourceMappingURL=devtools.js.map