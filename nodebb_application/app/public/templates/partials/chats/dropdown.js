!function(o){"object"==typeof module&&module.exports?module.exports=o():"function"==typeof define&&define.amd&&define(o)}(function(){function e(o,s,r,t,n){o.__escape;return r(s&&s.rooms&&s.rooms.length)?"\n"+e.blocks.rooms(o,s,r,t,n)+"\n":'\n<li class="no_active"><a href="#">[[modules:chat.no_active]]</a></li>\n'}return e.blocks={rooms:function(t,n,e,o,m){var a=t.__escape;return o(e(n&&n.rooms),function(r){return'\n<li class="'+(e(n&&n.rooms&&n.rooms[r]&&n.rooms[r].unread)?"unread":"")+'" data-roomid="'+a(e(n&&n.rooms&&n.rooms[r]&&n.rooms[r].roomId))+'">\n\t<strong class="room-name">\n\t\t'+(e(n&&n.rooms&&n.rooms[r]&&n.rooms[r].lastUser&&n.rooms[r].lastUser.uid)?"\n\t\t"+(e(n&&n.rooms&&n.rooms[r]&&n.rooms[r].roomName)?a(e(n&&n.rooms&&n.rooms[r]&&n.rooms[r].roomName)):a(e(n&&n.rooms&&n.rooms[r]&&n.rooms[r].usernames)))+"\n\t\t":"\n\t\t<span>[[modules:chat.no-users-in-room]]</span>\n\t\t")+'\n\t</strong>\n\t<div class="avatar-placeholder"></div>\n\t'+o(e(n&&n.rooms&&n.rooms[r]&&n.rooms[r].users),function(o,s){return"\n\t"+(0===s?'\n\t<div class="main-avatar">\n\t\t<a href="'+a(e(n&&n.config&&n.config.relative_path))+"/user/"+a(e(n&&n.rooms&&n.rooms[r]&&n.rooms[r].users&&n.rooms[r].users[o]&&n.rooms[r].users[o].userslug))+'">'+a(m(n,t,"buildAvatar",[e(n&&n.rooms&&n.rooms[r]&&n.rooms[r].users&&n.rooms[r].users[o]),"sm",e(n&&n.true)]))+"</a>\n\t</div>\n\t":"")+"\n\t"},function(){return""})+'\n\n\t<ul class="members">\n\t\t'+o(e(n&&n.rooms&&n.rooms[r]&&n.rooms[r].users),function(o){return'\n\t\t<li>\n\t\t\t<a href="'+a(e(n&&n.config&&n.config.relative_path))+"/user/"+a(e(n&&n.rooms&&n.rooms[r]&&n.rooms[r].users&&n.rooms[r].users[o]&&n.rooms[r].users[o].userslug))+'">'+a(m(n,t,"buildAvatar",[e(n&&n.rooms&&n.rooms[r]&&n.rooms[r].users&&n.rooms[r].users[o]),"sm",e(n&&n.true)]))+"</a>\n\t\t</li>\n\t\t"},function(){return""})+'\n\t</ul>\n\n\t<span class="teaser-content">'+a(e(n&&n.rooms&&n.rooms[r]&&n.rooms[r].teaser&&n.rooms[r].teaser.content))+'</span>\n\t<span class="teaser-timestamp timeago pull-right" title="'+a(e(n&&n.rooms&&n.rooms[r]&&n.rooms[r].teaser&&n.rooms[r].teaser.timestampISO))+'"></span>\n</li>\n'},function(){return""})}},e});