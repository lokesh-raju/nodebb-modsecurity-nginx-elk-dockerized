!function(o){"object"==typeof module&&module.exports?module.exports=o():"function"==typeof define&&define.amd&&define(o)}(function(){function m(s,r,t,o,n){var e=s.__escape;return'<li component="chat/recent/room" data-roomid="'+e(t(r&&r.rooms&&r.rooms.roomId))+'" class="'+(t(r&&r.rooms&&r.rooms.unread)?"unread":"")+'">\n\t<strong class="room-name">\n\t\t'+(t(r&&r.rooms&&r.rooms.lastUser&&r.rooms.lastUser.uid)?'\n\t\t<span component="chat/title">'+(t(r&&r.rooms&&r.rooms.roomName)?e(t(r&&r.rooms&&r.rooms.roomName)):e(t(r&&r.rooms&&r.rooms.usernames)))+"</span>\n\t\t":"\n\t\t<span>[[modules:chat.no-users-in-room]]</span>\n\t\t")+'\n\t</strong>\n\t<div class="avatar-placeholder"></div>\n\t'+m.blocks["rooms.users"](s,r,t,o,n)+'\n\n\t<ul class="members">\n\t\t'+o(t(r&&r.rooms&&r.rooms.users),function(o){return'\n\t\t<li>\n\t\t\t<a href="'+e(t(r&&r.config&&r.config.relative_path))+"/user/"+e(t(r&&r.rooms&&r.rooms.users&&r.rooms.users[o]&&r.rooms.users[o].userslug))+'">'+e(n(r,s,"buildAvatar",[t(r&&r.rooms&&r.rooms.users&&r.rooms.users[o]),"sm",t(r&&r.true)]))+"</a>\n\t\t</li>\n\t\t"},function(){return""})+"\n\t</ul>\n</li>"}return m.blocks={"rooms.users":function(r,t,n,o,e){var m=r.__escape;return o(n(t&&t.rooms&&t.rooms.users),function(o,s){return"\n\t"+(0===s?'\n\t<div class="main-avatar">\n\t\t<a href="'+m(n(t&&t.config&&t.config.relative_path))+"/user/"+m(n(t&&t.rooms&&t.rooms.users&&t.rooms.users[o]&&t.rooms.users[o].userslug))+'">'+m(e(t,r,"buildAvatar",[n(t&&t.rooms&&t.rooms.users&&t.rooms.users[o]),"sm",n(t&&t.true)]))+"</a>\n\t</div>\n\t":"")+"\n\t"},function(){return""})}},m});